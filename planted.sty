\usepackage{amsmath,amsthm,amssymb}
\usepackage{mathtools,bbm,xspace}
% \usepackage{tikz}
\usepackage{hhline,pifont}
\usepackage{ifxetex}


\usepackage[pagebackref]{hyperref}

\usepackage[dvipsnames]{xcolor}
\hypersetup{
letterpaper=true,
colorlinks=true,
urlcolor=Cerulean,
linkcolor=RoyalBlue,
citecolor=OliveGreen,
linktocpage=true,
}
\usepackage{ulem}
\usepackage{tcolorbox}
\usepackage{enumerate}
\usepackage{multirow}

\ifxetex
\usepackage[bigdelims,vvarbb]{newpxmath}
\usepackage{mathspec}
\setallmainfonts(Digits,Latin){Noto Serif}
\else
\usepackage{mathpazo}
% \usepackage{libertine}
% \usepackage{libertinust1math}
% \usepackage[T1]{fontenc}
\fi

\usepackage{bm}
\usepackage{csquotes}
\usepackage{footnotebackref}
\allowdisplaybreaks


\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}

% Import before the theorem environments
\usepackage[capitalise,nameinlink]{cleveref}
\crefname{lemma}{Lemma}{Lemmas}
\crefname{fact}{Fact}{Facts}
\newcommand{\colorconstraints}{\text{Color Constraints}}
\crefname{colorconstraints}{(color constraints)}{Color Constraints}
\crefformat{colorconstraints}{#2\colorconstraints#3}
\crefname{indsetconstraints}{(indset constraints)}{IndSet Constraints}
\crefformat{indsetconstraints}{#2$\mathsf{IndSet\ Axioms}$#3}
\crefname{theorem}{Theorem}{Theorems}
\crefname{mtheorem}{Theorem}{Theorems}
\crefname{corollary}{Corollary}{Corollaries}
\crefname{claim}{Claim}{Claims}
\crefname{example}{Example}{Examples}
\crefname{algorithm}{Algorithm}{Algorithms}
\crefname{problem}{Problem}{Problems}
\crefname{definition}{Definition}{Definitions}
\crefname{equation}{Eq.}{Eq.}
\crefname{table}{Table}{Tables}



% mostly copied from odonnell.sty and a paper of James R. Lee from the arXiv source

\newtheorem{theorem}{Theorem}[section]
\newtheorem*{theorem*}{Theorem}
\newtheorem{itheorem}{Theorem}

\newtheorem{subclaim}{Claim}[theorem]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{lemma*}{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem{fact}[theorem]{Fact}
\newtheorem*{fact*}{Fact}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem*{exercise*}{Exercise}
\newtheorem{hypothesis}[theorem]{Hypothesis}
\newtheorem*{hypothesis*}{Hypothesis}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{construction}[theorem]{Construction}
\newtheorem{example}[theorem]{Example}
\newtheorem{question}[theorem]{Question}
\newtheorem{openquestion}[theorem]{Open Question}
\newtheorem{algorithm}[theorem]{Algorithm}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{protocol}[theorem]{Protocol}
\newtheorem{assumption}[theorem]{Assumption}
\newtheorem{exercise-easy}[theorem]{Exercise}
\newtheorem{exercise-med}[theorem]{Exercise}
\newtheorem{exercise-hard}[theorem]{Exercise$^\star$}
\newtheorem{claim}[theorem]{Claim}
\newtheorem*{claim*}{Claim}

\newtheorem{remark}[theorem]{Remark}
\newtheorem*{remark*}{Remark}
\newtheorem{observation}[theorem]{Observation}
\newtheorem*{observation*}{Observation}


\usepackage[
letterpaper,
top=1in,
bottom=1in,
left=1in,
right=1in]{geometry}
\linespread{1.08}

\newcommand\whichfont{0}
% Probability stuff
\ifnum\whichfont=1
\renewcommand{\Pr}{\boldsymbol{\mathrm{Pr}}}
\newcommand{\Cov}{\boldsymbol{\mathrm{Cov}}}
\newcommand{\E}{\boldsymbol{\mathrm{E}}}
\newcommand{\Var}{\boldsymbol{\mathrm{Var}}}
\newcommand{\pE}{\widetilde{\boldsymbol{\mathrm{E}}}}
\else
\renewcommand{\Pr}{\mathbf{Pr}}
\newcommand{\Cov}{\mathbf{Cov}}
\newcommand{\E}{\mathbf{E}}
\newcommand{\Var}{\mathbf{Var}}
\newcommand{\pE}{\widetilde{\mathbf{E}}}
\fi

% miscellaneous shortcuts
\newcommand{\Ind}{\boldsymbol{1}}
\newcommand{\supp}{\mathrm{supp}}
\newcommand{\tr}{\operatorname{tr}}
\newcommand{\diag}{\operatorname{diag}}

\newcommand{\lam}{\lambda}
\newcommand{\dleta}{\delta}
\newcommand{\simga}{\sigma}
\newcommand{\vphi}{\varphi}
\newcommand{\la}{\langle}
\newcommand{\ra}{\rangle}
\newcommand{\wt}[1]{\widetilde{#1}}
\newcommand{\wh}[1]{\widehat{#1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\ot}{\otimes}
\newcommand{\zo}{\{0,1\}}
\newcommand{\co}{:}                       %\newcommand{\co}{\colon}
\newcommand{\bdry}{\partial}
\newcommand{\grad}{\nabla}
\newcommand{\symmdiff}{\triangle} \newcommand{\symdiff}{\symmdiff}
\newcommand{\half}{\tfrac{1}{2}}


\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% better looking epsilon
\newcommand{\eps}{\varepsilon}

\newcommand{\calA}{\mathcal A}
\newcommand{\calB}{\mathcal B}
\newcommand{\calC}{\mathcal C}
\newcommand{\calD}{\mathcal D}
\newcommand{\calE}{\mathcal E}
\newcommand{\calF}{\mathcal F}
\newcommand{\calG}{\mathcal G}
\newcommand{\calH}{\mathcal H}
\newcommand{\calI}{\mathcal I}
\newcommand{\calJ}{\mathcal J}
\newcommand{\calK}{\mathcal K}
\newcommand{\calL}{\mathcal L}
\newcommand{\calM}{\mathcal M}
\newcommand{\calN}{\mathcal N}
\newcommand{\calO}{\mathcal O}
\newcommand{\calP}{\mathcal P}
\newcommand{\calQ}{\mathcal Q}
\newcommand{\calR}{\mathcal R}
\newcommand{\calS}{\mathcal S}
\newcommand{\calT}{\mathcal T}
\newcommand{\calU}{\mathcal U}
\newcommand{\calV}{\mathcal V}
\newcommand{\calW}{\mathcal W}
\newcommand{\calX}{\mathcal X}
\newcommand{\calY}{\mathcal Y}
\newcommand{\calZ}{\mathcal Z}

\newcommand{\bbB}{\mathbb B}
\newcommand{\bbS}{\mathbb S}
\newcommand{\bbR}{\mathbb R}
\newcommand{\bbZ}{\mathbb Z}
\newcommand{\bbI}{\mathbb I}
\newcommand{\bbQ}{\mathbb Q}
\newcommand{\bbP}{\mathbb P}
\newcommand{\bbE}{\mathbb E}
\newcommand{\bbG}{\mathbb G}
\newcommand{\bbN}{\mathbb N}

% number systems
\newcommand{\R}{\mathbb R}
\newcommand{\C}{\mathbb C}
\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\F}{\mathbb F}
\newcommand{\Q}{\mathbb Q}

\newcommand{\bone}{\boldsymbol{1}}
\newcommand{\balpha}{\boldsymbol{\alpha}}
\newcommand{\bbeta}{\boldsymbol{\beta}}
\newcommand{\bdelta}{\boldsymbol{\delta}}
\newcommand{\bepsilon}{\boldsymbol{\epsilon}}
\newcommand{\blambda}{\boldsymbol{\lambda}}
\newcommand{\bomega}{\boldsymbol{\omega}}
\newcommand{\bpi}{\boldsymbol{\pi}}
\newcommand{\bnu}{\boldsymbol{\nu}}
\newcommand{\bphi}{\boldsymbol{\phi}}
\newcommand{\bvphi}{\boldsymbol{\varphi}}
\newcommand{\bpsi}{\boldsymbol{\psi}}
\newcommand{\bsigma}{\boldsymbol{\sigma}}
\newcommand{\btheta}{\boldsymbol{\theta}}
\newcommand{\bzeta}{\boldsymbol{\zeta}}
\newcommand{\bxi}{\boldsymbol{\xi}}
\newcommand{\ba}{\boldsymbol{a}}
\newcommand{\bb}{\boldsymbol{b}}
\newcommand{\bc}{\boldsymbol{c}}
\newcommand{\bd}{\boldsymbol{d}}
\newcommand{\be}{\boldsymbol{e}}
\newcommand{\boldf}{\boldsymbol{f}}
\newcommand{\bg}{\boldsymbol{g}}
\newcommand{\bh}{\boldsymbol{h}}
\newcommand{\bi}{\boldsymbol{i}}
\newcommand{\bj}{\boldsymbol{j}}
\newcommand{\bk}{\boldsymbol{k}}
\newcommand{\bell}{\boldsymbol{\ell}}
\newcommand{\boldm}{\boldsymbol{m}}
\newcommand{\bp}{\boldsymbol{p}}
\newcommand{\br}{\boldsymbol{r}}
\newcommand{\bs}{\boldsymbol{s}}
\newcommand{\bt}{\boldsymbol{t}}
\newcommand{\bu}{\boldsymbol{u}}
\newcommand{\bv}{\boldsymbol{v}}
\newcommand{\bw}{\boldsymbol{w}}
\newcommand{\bx}{{\boldsymbol{x}}}
\newcommand{\by}{\boldsymbol{y}}
\newcommand{\bz}{\boldsymbol{z}}
\newcommand{\bA}{\boldsymbol{A}}
\newcommand{\bB}{\boldsymbol{B}}
\newcommand{\bC}{\boldsymbol{C}}
\newcommand{\bD}{\boldsymbol{D}}
\newcommand{\bE}{\boldsymbol{E}}
\newcommand{\bF}{\boldsymbol{F}}
\newcommand{\bG}{\boldsymbol{G}}
\newcommand{\bH}{\boldsymbol{H}}
\newcommand{\bI}{\boldsymbol{I}}
\newcommand{\bJ}{\boldsymbol{J}}
\newcommand{\bL}{\boldsymbol{L}}
\newcommand{\bM}{\boldsymbol{M}}
\newcommand{\bP}{\boldsymbol{P}}
\newcommand{\bQ}{\boldsymbol{Q}}
\newcommand{\bR}{\boldsymbol{R}}
\newcommand{\bS}{\boldsymbol{S}}
\newcommand{\bT}{\boldsymbol{T}}
\newcommand{\bU}{\boldsymbol{U}}
\newcommand{\bV}{\boldsymbol{V}}
\newcommand{\bW}{\boldsymbol{W}}
\newcommand{\bX}{\boldsymbol{X}}
\newcommand{\bY}{\boldsymbol{Y}}
\newcommand{\bZ}{\boldsymbol{Z}}

% bold calligraphic
\newcommand{\bcalG}{\boldsymbol{\calG}} \newcommand{\calbG}{\bcalG}
\newcommand{\bcalH}{\boldsymbol{\calH}}
\newcommand{\bcalI}{\boldsymbol{\calI}}
\newcommand{\bcalK}{\boldsymbol{\calK}}
\newcommand{\bcalX}{\boldsymbol{\calX}} \newcommand{\calbX}{\bcalX}
\newcommand{\bcalY}{\boldsymbol{\calY}} \newcommand{\calbY}{\bcalY}
\newcommand{\bcalZ}{\boldsymbol{\calZ}} \newcommand{\calbZ}{\bcalZ}
\newcommand{\bcalQ}{\boldsymbol{\calQ}}


\renewcommand{\le}{\leqslant}
\renewcommand{\leq}{\leqslant}
\renewcommand{\ge}{\geqslant}
\renewcommand{\geq}{\geqslant}

\newcommand{\psdge}{\succeq}
\newcommand{\psdg}{\succ}
\newcommand{\psdle}{\preceq}
\newcommand{\psdl}{\prec}


\DeclarePairedDelimiter\parens{\lparen}{\rparen}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\braces{\lbrace}{\rbrace}
\DeclarePairedDelimiter\bracks{\lbrack}{\rbrack}
\DeclarePairedDelimiter\angles{\langle}{\rangle}

\newcommand{\rv}[1]{\boldsymbol{#1}}
\newcommand{\bbone}{\mathbbm 1}
\newcommand{\Id}{\bbone}
\newcommand{\one}{\vec{1}}

\renewcommand{\emph}{\textit}
\renewcommand{\em}{\it}

% Pedro's macros

\usepackage{bm}

\usepackage{subcaption}
\usepackage{graphicx}
\graphicspath{{images/}}

\newcommand{\expt}[1]{\text{\textbf{E}} \left [ #1 \right ]}
\newcommand{\vart}[1]{\text{\textbf{Var}} \left [ #1 \right ]}
\newcommand{\prob}[1]{\text{\textbf{Pr}} \left [ #1 \right ]}
%\newcommand{\tr}[1]{\mathrm{tr} \left ( #1 \right )}
\newcommand{\littleO}[1]{o(#1)}
\newcommand{\bigO}[1]{\mathcal{O}(#1)}
\newcommand{\bigOmega}[1]{\Omega(#1)}
\newcommand{\bigOmegaT}[1]{\widetilde\Omega(#1)}
\newcommand{\bigTheta}[1]{\Theta(#1)}

\newcommand{\pvec}[1]{\vec{#1}\mkern2mu\vphantom{#1}}

\usepackage{tikz}


\newcommand*\pluscircpic{
	\begin{tikzpicture}
		\node[draw,circle,inner sep=0pt,scale=3]{};
		\node[inner sep=0pt]{\textnormal{+}};
	\end{tikzpicture}
}
\newcommand{\pluscirc}{\mathbin{\text{\pluscircpic}}}

\newcommand{\avg}{\mathop{\mathrm{avg}}}

\newcommand{\eigs}{\mathrm{eigs}}
\newcommand{\tails}{\mathrm{Tails}}
\newcommand{\notails}{\mathrm{NoTails}}
\newcommand{\Simple}{\mathrm{Simple}}

\newcommand{\maxcut}{\mathsf{Max\text{-}Cut}}
\newcommand{\naethree}{\mathsf{NAE\text{-}3SAT}}
\newcommand{\threesat}{\mathsf{3SAT}}
\newcommand{\twoxor}{\mathsf{2XOR}}
\newcommand{\ksat}{\mathsf{kSAT}}
\newcommand{\kxor}{\mathsf{kXOR}}
\newcommand{\SORT}{\mathsf{Sort}} \newcommand{\Sort}{\SORT} \newcommand{\sort}{\SORT}
\newcommand{\chsh}{\mathsf{CHSH}} \newcommand{\CHSH}{\chsh}
\newcommand{\forrelation}{\mathsf{Forrelation}} \newcommand{\Forrelation}{\forrelation}

\newcommand{\SDP}{\mathrm{SDP}}
\newcommand{\EIG}{\mathrm{EIG}}
\newcommand{\addprod}{\pluscirc}
\newcommand{\specrad}{\rho}
\newcommand{\spec}{\mathrm{Spec}}
\newcommand{\permissible}{nomadic\xspace}
\newcommand{\weight}{\mathrm{wt}}
\newcommand{\Wt}{\mathrm{wt}}
\newcommand{\Atom}{\mathrm{Atom}}
\newcommand{\Atoms}{\mathrm{Atoms}}

\newcommand{\congraph}{\calH}
\newcommand{\instgraph}{\calI}
\newcommand{\bcongraph}{\bcalH}
\newcommand{\binstgraph}{\bcalI}
\newcommand{\atomlist}{\calA}
\newcommand{\indepset}{\mathsf{IndependentSet}}
\newcommand{\gr}{\alpha_{\mathrm{gr}}}

\newcommand{\Enc}{\mathrm{Enc}}
\newcommand{\fresh}{\mathrm{fresh}}
\newcommand{\visited}{\mathrm{visited}}
\newcommand{\stale}{\mathrm{stale}}
\newcommand{\boundary}{\mathrm{boundary}}

\newcommand{\NP}{\mathsf{NP}}

\newcommand{\poly}{\mathrm{poly}}

\newcommand{\myfig}[4]{\begin{figure}[h] \centering \includegraphics[width=#1\textwidth]{#2} \caption{#3} \label{#4} \end{figure}}


% \usepackage[psamsfonts]{eucal}
\usepackage{amsmath}
% \usepackage{amsfonts}
% \usepackage{unicode-math}
\usepackage{amssymb}
\usepackage{amstext}
\usepackage{amscd}
\usepackage{amsthm}
\usepackage{makeidx}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{supertabular}
% \usepackage{enumerate}
\usepackage{enumitem}
\usepackage{titling}
\usepackage{wasysym}
\usepackage{comment}
\usepackage{listings}
\usepackage{csquotes}

\usepackage{microtype}

\newtheorem{thm}{Theorem}
\newtheorem{dfn}{Definition}
\newtheorem{prop}{Proposition}

\newcommand\MYcurrentlabel{xxx}

% \MYstore{A}{B} assigns variable A value B
\newcommand{\MYstore}[2]{%
  \global\expandafter \def \csname MYMEMORY #1 \endcsname{#2}%
}

% \MYload{A} outputs value stored for variable A
\newcommand{\MYload}[1]{%
  \csname MYMEMORY #1 \endcsname%
}

% new label command, stores current label in \MYcurrentlabel
\newcommand{\MYnewlabel}[1]{%
  \renewcommand\MYcurrentlabel{#1}%
  \MYoldlabel{#1}%
}

% new label command that doesn't do anything
\newcommand{\MYdummylabel}[1]{}

\newcommand{\torestate}[1]{%
  % overwrite label command
  \let\MYoldlabel\label%
  \let\label\MYnewlabel%
  #1%
  \MYstore{\MYcurrentlabel}{#1}%
  % restore old label command
  \let\label\MYoldlabel%
}
\newcommand{\restateprop}[1]{%
  % overwrite label command with dummy
  \let\MYoldlabel\label
  \let\label\MYdummylabel
  \begin{proposition*}[Restatement of \pref{#1}]
    \MYload{#1}
  \end{proposition*}
  \let\label\MYoldlabel
}
\newcommand{\restatelemma}[1]{%
  % overwrite label command with dummy
  \let\MYoldlabel\label
  \let\label\MYdummylabel
  \begin{lemma*}[Restatement of \pref{#1}]
    \MYload{#1}
  \end{lemma*}
  \let\label\MYoldlabel
}
\newcommand{\restateclaim}[1]{%
  % overwrite label command with dummy
  \let\MYoldlabel\label
  \let\label\MYdummylabel
  \begin{claim*}[Restatement of \pref{#1}]
    \MYload{#1}
  \end{claim*}
  \let\label\MYoldlabel
}

\newcommand{\restatetheorem}[1]{%
  % overwrite label command with dummy
  \let\MYoldlabel\label
  \let\label\MYdummylabel
  \begin{theorem*}[Restatement of \pref{#1}]
    \MYload{#1}
  \end{theorem*}
  \let\label\MYoldlabel
}


\newcommand{\erdos}{Erd\H{o}s\xspace}
\newcommand{\renyi}{R\'enyi\xspace}

% {{{ parentheses }}}
% various bracket-like commands
% round parentheses
\newcommand{\paren}[1]{(#1)}
\newcommand{\Paren}[1]{\left(#1\right)}
\newcommand{\bigparen}[1]{\big(#1\big)}
\newcommand{\Bigparen}[1]{\Big(#1\Big)}
% % square brackets
\newcommand{\brac}[1]{[#1]}
\newcommand{\Brac}[1]{\left[#1\right]}
\newcommand{\bigbrac}[1]{\big[#1\big]}
\newcommand{\Bigbrac}[1]{\Big[#1\Big]}
\newcommand{\Biggbrac}[1]{\Bigg[#1\Bigg]}
% absolute value
% \newcommand{\abs}[1]{\lvert#1\rvert}
\newcommand{\Abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\bigabs}[1]{\big\lvert#1\big\rvert}
\newcommand{\Bigabs}[1]{\Big\lvert#1\Big\rvert}
% set
\newcommand{\set}[1]{\{#1\}}
\newcommand{\Set}[1]{\left\{#1\right\}}
\newcommand{\bigset}[1]{\big\{#1\big\}}
\newcommand{\Bigset}[1]{\Big\{#1\Big\}}
% inner product
\newcommand{\iprod}[1]{\langle#1\rangle}
\newcommand{\Iprod}[1]{\left\langle#1\right\rangle}
\newcommand{\bigiprod}[1]{\big\langle#1\big\rangle}
\newcommand{\Bigiprod}[1]{\Big\langle#1\Big\rangle}
% % norm
\newcommand{\Norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\bignorm}[1]{\big\lVert#1\big\rVert}
\newcommand{\Bignorm}[1]{\Big\lVert#1\Big\rVert}
\newcommand{\Biggnorm}[1]{\Bigg\lVert#1\Bigg\rVert}
% 2-norm
\newcommand{\normt}[1]{\norm{#1}_2}
\newcommand{\Normt}[1]{\norm*{#1}_2}
\newcommand{\bignormt}[1]{\bignorm{#1}_2}
\newcommand{\Bignormt}[1]{\Bignorm{#1}_2}


\newcommand{\mper}{\,.}
\newcommand{\mcom}{\,,}

\newcommand{\1}{\bm{1}}

\newcommand{\parhead}[1]{\medskip \noindent {\bfseries\boldmath\ignorespaces {#1}}\hskip 0.9em}